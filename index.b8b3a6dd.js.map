{"mappings":"AAAA,MAAMA,EAAO,CACXC,YAAaC,SAASC,cAAc,kBAGtC,IAEIC,EAAe,GACfC,EAAe,GA4FnBL,EAAKC,YAAYK,iBAAiB,SAxFlC,SAAqBC,GAEnB,GADWA,EAAEC,OAAOC,WAAWC,UAAUC,SAAS,QAG3C,CACOJ,EAAEC,OAAOI,cAAcT,cAAc,aAC9BU,aAAa,OADhC,MAEMC,EAAgBP,EAAEC,OAAOO,QAAQ,SAGvC,GAFAD,EAAcE,MAAMC,UAAY,kBAChCb,EAAac,KAAKJ,GACdV,EAAae,OAAS,EACxB,QAON,SAAsBC,EAAWC,GAC/B,IAAIC,EAAkBF,EAAUjB,cAAc,aAAaU,aAAa,OACpEU,EAAmBF,EAAWlB,cAAc,aAAaU,aAAa,OAC1E,GAAIS,IAAoBC,EAMtB,OALAC,YAAW,KACTJ,EAAUJ,MAAMC,UAAY,OAC5BI,EAAWL,MAAMC,UAAY,MAAM,GAClC,UACHb,EAAae,OAAS,GAGtBd,EAAaa,KAAKE,EAAWC,GAC7BjB,EAAae,OAAS,EACtBM,QAAQC,IAAIrB,GAKhB,WACE,GA3CoB,KA2ChBA,EAAac,OACf,OAEAM,QAAQC,IAAI,c,CARZC,E,CAnBEC,CAAaxB,EAAa,GAAIA,EAAa,G","sources":["src/index.js"],"sourcesContent":["const refs = {\n  cardGallery: document.querySelector('.card-gallery'),\n}\n\nlet BASE_URL = 'https://deckofcardsapi.com/api/deck/new/shuffle/?cards=9H,0H,JH,QH,KH,AH,9H,0H,JH,QH,KH,AH,9H,0H,JH,QH,KH,AH,9H,0H,JH,QH,KH,AH';\nlet NUMBER_OF_CARDS = 24;\nlet clickedCards = [];\nlet matchedCards = [];\n\n// 2H,3H,4H,5H,6H,7H,8H,9H,10,JH,QH,KH,AH\n// 2H,3H,4H,5H,6H,7H,8H,9H,10,JH,QH,KH,AH\nfunction onCardClick(e) {\n  let card = e.target.parentNode.classList.contains('card');\n  if (!card) {\n    return;\n  } else {\n    const img = e.target.parentElement.querySelector('.card-img');\n    const imgSrc = img.getAttribute('src');\n    const cardContainer = e.target.closest('.card');\n    cardContainer.style.transform = 'rotateY(.5turn)';\n    clickedCards.push(cardContainer);\n    if (clickedCards.length < 2) {\n      return\n    } else {\n      doCardsMatch(clickedCards[0], clickedCards[1])\n    };\n  }\n};\n\nfunction doCardsMatch(firstCard, secondCard) {\n  let firstCardImgSrc = firstCard.querySelector('.card-img').getAttribute('src');\n  let secondCardImgSrc = secondCard.querySelector('.card-img').getAttribute('src');\n  if (firstCardImgSrc !== secondCardImgSrc) {\n    setTimeout(() => {\n      firstCard.style.transform = 'none';\n      secondCard.style.transform = 'none';\n    }, 2000);\n    clickedCards.length = 0;\n    return;\n  } else {\n    matchedCards.push(firstCard, secondCard)\n    clickedCards.length = 0;\n    console.log(matchedCards);\n    endOfGame();\n  }\n};\n\nfunction endOfGame() {\n  if (matchedCards.length !== NUMBER_OF_CARDS) {\n    return;\n  } else {\n    console.log('end of game');\n  }\n}\n\n\nfunction getCards() {\n  fetch(`${BASE_URL}`)\n    .then(response => {\n      return response.json();\n    })\n    .then((data) => {\n      let DECK_ID = data.deck_id;\n      let DECK_URL = `https://deckofcardsapi.com/api/deck/${DECK_ID}/draw/?count=${NUMBER_OF_CARDS}`\n      return fetch(`${DECK_URL}`);\n    })\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      let cards = data.cards;\n      renderCardmarkup(cards)\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nfunction cardMarkup(data) {\n  return data.map(card => {\n    return `<li class=\"card-container\">\n        <div class=\"card\">\n          <div class=\"card-front\">\n          </div>\n          <div class=\"card-back\">\n          <img class=\"card-img\" src=\"${card.image}\" width=\"100\"/>\n          </div>\n        </div>\n      </li>`\n  }).join('')\n};\n\nfunction renderCardmarkup(data) {\n  const cardGalleryMarkup = cardMarkup(data);\n  refs.cardGallery.insertAdjacentHTML('beforeend', cardGalleryMarkup);\n};\n\n// getCards();\n\nrefs.cardGallery.addEventListener('click', onCardClick);\n"],"names":["$1f0dc3b9307be026$var$refs","cardGallery","document","querySelector","$1f0dc3b9307be026$var$clickedCards","$1f0dc3b9307be026$var$matchedCards","addEventListener","e","target","parentNode","classList","contains","parentElement","getAttribute","cardContainer","closest","style","transform","push","length","firstCard","secondCard","firstCardImgSrc","secondCardImgSrc","setTimeout","console","log","$1f0dc3b9307be026$var$endOfGame","$1f0dc3b9307be026$var$doCardsMatch"],"version":3,"file":"index.b8b3a6dd.js.map"}